

----->singular resource
get 'about', to: 'students#about'

url - > /about
controller-action - > students#about

----->resources creates seven routes
[index, new, create, show, edit, update, destroy]
resources :students


----->Controller namespace and routing
 ->to organize groups of controllers under a namespace. 
 ->create a directory admin inside it create a controller students then,

 routes
 namespace :admin do
   resources :students
 end

 Then,
 url -> /admin/students
 controller_action -> /admin/students#index
------------------------------------------
 [if we dont want /admin in url then use module scope]
  scope module: 'admin' do
    resources :students
  end

  Then,
 url -> /students
 controller_action -> /admin/students#index
------------------------------------------
[if we want to route /admin/students to StudentsController (without the Admin:: module prefix), then use a scope block:]

scope '/admin' do
  resources :students
end

url -> /admin/students
controller_action -> students#index

------>Nesting Resources
resources that are logically children of other resources.
so, routes ->
 resources :users do
    resources :posts
  end

url - > /users/:user_id/posts/:id/edit
controller_action -> posts#edit

[Resources should never be nested more than 1 level deep.]

-------->shallow nesting
create collection(index, new and create) under the parent only.

resources :users do
    resources :posts, shallow: true
  end

url_for_new_posts,create and index need user_id.
and
url_for edit, update, show and destroy dont need user_id.

------------There exist two options for scope to customize shallow routes. :shallow_path prefixes member paths with the specified parameter:
->shallow_path
scope shallow_path: 'data' do
     resources :users do
       resources :posts, shallow: true
     end
   end

   [url -> /data/posts/:id/edit]

->shallow_prefix
The :shallow_prefix option adds the specified parameter to the named route helpers:
scope shallow_prefix: 'data' do
    resources :users do
      resources :posts, shallow: true
    end
  end

  path - > edit_data_post


  -----------Routing concerns
  ->Routing concerns allow you to declare common routes that can be reused inside other resources and routes.

concern :images do
    resources :posts
  end

[now use that concern]
  resources :users, concerns: :images
  [ it will be same as -:]
  resources :users do
    resources :posts
  end    


----------we can add additional routes to the collections as well as members.

->member[these routes used id, like show, edit, update, destroy]

resources :users do
  member do
    get 'preview'
  end
end

url -> /users/:id/preview

[to implement single member action use on ]

e.g->
resources :users do
  get 'preview', on: :member
end



->collection[these routes don't use id like , new, create, index]

resources :users do
    collection do
      get 'search'
    end
  end
[here we are making an action search which is collection on users controller]

url ->  /users/search

[if we want to make single action then don't need to use do in collection, we can use on]
e.g->
resources :users do
get 'search', on: :collection
end

------>Naming routes
get 'show', to: 'users#show', as: :display
[create display_path]

---->HTTP Verb Constraints
->We can use the match method with the :via option to match multiple verbs at once:
e.g->  match 'show', to: 'users#show', via: [:get, :post]
                  or
       match 'show', to: 'users#show', via: :all

---------->Constraints 
get 'show/:id', to: 'users#show', constraints: {id: /[a-z]/} 

------>wildcard segments
[after /show/:id/ anything is there it will call show method of user controller.]
  get 'show/:id/*other', to: 'users#show'

------->redirect
  get 'show', to: redirect('index')

---->root
root 'users#index'

---->direct routes
direct :rails do
    "https://rubyonrails.org"
  end
  [where rails_url is there it will goto official site.]


------>Specify a controller
[here all /users paths will goto posts controller actions. ]
  resources :users, controller: 'posts'

------>overriding named route helpers
  resources :users, as: :employee
[all /users will run users action but heplers name will be employee_path]

----->Overriding segments
  resources :users, path_names: { new: 'make', edit: 'change' }

----->restricting routes created
  -> resources :users, only: [:new, :create] [create routes form new and create only]

  -> resources :users, except: :show [create routes for all except show]

------>Using scope, we can alter path names generated by resources:
e.g->
scope(path_names: { new: 'neu', edit: 'change' }) do
    resources :users, path: 'employees'
  end

----->draw()
--.we can write our routes in the separate folder routes/filename.
then we can include that in the main route file using draw(:filename) method.












